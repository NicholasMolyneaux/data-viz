<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="description" content="Intro to d3.js">

    <title>Stats</title>

    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <script src='../../js/d3-tip.js'></script>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">


    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">  </head>

<script src='../../js/bootstrap.min.js'></script>
<!-- CSS -->
<link href="../../css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

</head>
<body>

<br><br>

<div class="container" id="graphContainer">

    <div class="row justify-content-center" id="stats_graph0">
        <div class="col-lg-9" id="graph0">
            <div class="graph-debug col" id="viz_graph0">
            </div>
        </div>
        <div class="col-lg-2 col-10 opt-graphs">
            <h4 class="subtitle">Options:</h4>
            <br>
            <label for="nbrBins_graph0">Number of Bins:</label>
            <div class="row">
                <div class="col-lg-8 col-md-10 col-10 sliderDiv">
                    <input type="range" min="1" max="100" value="20" class="slider" id="nbrBins_graph0" onchange="changeBins(this, 'graph0')" oninput="nbrBinsValue_graph0.value = nbrBins_graph0.value">
                </div>
                <div class="col-lg-4 col-md-2 col-2 text-center sliderDisp">
                    <output id="nbrBinsValue_graph0">20</output>
                </div>
            </div>
            <br>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="nbrs_graph0" onchange="changeShowNumbers(this, 'graph0')">
                <label class="form-check-label" for="nbrs_graph0">Numbers on bars</label>

            </div>
            <br>
            <label for="fontSize_graph0">Font size:</label>
            <input class="form-control opt-graphs-buttons" type="number" min="1" max="50" value="20" id="fontSize_graph0" onchange="changeFontSize(this, 'graph0')">
            <br>
            <label for="yAxis_graph0">Unit Axis y:</label>
            <select class="form-control opt-graphs-buttons" id="yAxis_graph0" onchange="changeYAxis(this, 'graph0')">
                <option value="count">Count</option>
                <option value="percentage">Percentage</option>
            </select>
            <br>
            <div class="col text-center">
                <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#colorModal_graph0">
                    Colors
                </button>
            </div>
            <br>
            <div class="col text-center">
                <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#AxesValue_graph0">
                    Axes Values
                </button>
            </div>
            <br><br>
            <div class="col-lg9 text-center">
                <input class="btn btn-primary btn-lg btn-block export" type="button" data-toggle="modal" data-target="#exportModal_graph0" value="Export">
            </div>
        </div>

        <!-- Modal for the colors -->
        <div class="modal fade" id="colorModal_graph0" tabindex="-1" role="dialog" aria-labelledby="colorModalTitle_graph0" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Colors</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="row modal-body" id="colors_graph0">
                        <div class="col-lg-8 col-9">
                            <input class="form-control" type="color" id="color1_graph0" value="#0000FF" oninput="changeColor(this, 'color1', 'graph0')">
                        </div>
                        <div class="col-lg-4 col-3 text-center">
                            <button class="btn btn-primary" id="addColor_graph0" onclick="addColor('graph0')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for the axis values -->
        <div class="modal fade" id="AxesValue_graph0" tabindex="-1" role="dialog" aria-labelledby="AxesValueTitle_graph0" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Axes Values</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p class="subsubtitle">x Axis:</p>
                        <div class="row">
                            <div class="col-6">
                                <input class="form-control opt-graphs-buttons" type="number" min="0" placeholder="Min x Value" id="minX_graph0" onchange="changeAxis(this, 'graph0', 'xMin')">
                            </div>
                            <div class="col-6">
                                <input class="form-control opt-graphs-buttons" type="number" min="0" placeholder="Max x Value" id="maxX_graph0" onchange="changeAxis(this, 'graph0', 'xMax')">
                            </div>
                        </div>
                        <br>
                        <p class="subsubtitle">y Axis:</p>
                        <div class="row">
                            <div class="col-6">
                                <input class="form-control opt-graphs-buttons" type="number" min="0" placeholder="Min y Value" id="minY_graph0" onchange="changeAxis(this, 'graph0', 'yMin')">
                            </div>
                            <div class="col-6">
                                <input class="form-control opt-graphs-buttons" type="number" min="0" placeholder="Max y Value" id="maxY_graph0" onchange="changeAxis(this, 'graph0', 'yMax')">
                            </div>
                        </div>
                        <br>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for the exporting -->
        <div class="modal fade" id="exportModal_graph0" tabindex="-1" role="dialog" aria-labelledby="exportModalTitle_graph0" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Export</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="row modal-body form-group">
                        <div class="col-8">
                            <input class="form-control opt-graphs-buttons" type="text" id="exportName_graph0" placeholder="name">
                        </div>
                        <div class="col-1">
                            <input type="text" readonly class="form-control-plaintext dot" value=".">
                        </div>
                        <div class="col-3">
                            <select class="form-control opt-graphs-buttons" id="exportType_graph0" placeholder="type">
                                <option value="" disabled selected>Type</option>
                                <option value="png">PNG</option>
                                <option value="csv">CSV</option>
                                <option value="svg">SVG</option>
                            </select>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary download" onclick="exportGraph('graph0')">
                            Download!
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<div class="jumbotron">
    <div class="form-group">
        <p class="title_options">General Options</p>
        <div class="row">
            <div class="col">
                <label for="init_time">Initial Time:</label>
                <input type="number" class="form-control" id="init_time" name="init_time" step="0.1" value="0.0" onchange="handleChange(this)">
            </div>
            <div class="col">
                <label for="final_time">Final Time:</label>
                <input type="number" class="form-control" id="final_time" name="final_time" step="0.1" value="128" onchange="handleChange(this)">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col">
                <label for="origin">Origin:</label> <br>
                <select multiple class="form-control" id="origin" name="origin">
                </select>
            </div>
            <div class="col">
                <label for="destination">Destination:</label> <br>
                <select multiple class="form-control" id="destination" name="destination">
                </select>
            </div>
        </div>
        <br>
        <div class="container">
            <div class="row justify-content-around" id="graphs_options">
                <div class="col-4 align-self-center text-center" id="btnAddGraph">
                    <input class="btn btn-primary" type="button" id="add_graph" value="Add new Graph" onclick="addNewGraph()">
                </div>
            </div>
        </div>
        <br>
        <div class="container text-center">
            <input class="btn btn-primary" type="button" id="graphs_submit" value="Fetch & Draw" onclick="fetchDataAndDraw()">
        </div>
    </div>
</div>

<span class="glyphicon glyphicon-minus"></span>

</body>
<!-- JS scripts -->
<!-- Execute main script -->
<script src="js/main.js"></script>
<script src="js/button.js"></script>
<script src="js/graphs.js"></script>
<!--<script src="../../js/require.min.js"></script>-->
<script src="../../js/mustache.min.js"></script>
<script src="../../js/html2canvas.min.js"></script>
<script src="../../js/saveSvgAsPng.js"></script>
<script src="../../js/FileSaver.min.js"></script>
</html>